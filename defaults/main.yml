---
# Local Dependencies Installation
# Set to true to automatically install required packages (xorriso, syslinux) on the Ansible controller
proxmox_automatic_install_dependencies: false

proxmox_automatic_files_dir: "kickstart-files"
proxmox_automatic_iso_dir: "kickstart-isos"
# VM Deployment Configuration
proxmox_automatic_first_disk_size: "20"  # IN GB
proxmox_automatic_pve_iso_storage: "cephfs"
proxmox_automatic_pve_vm_storage: "volumes"
proxmox_automatic_defaultbridge: "vmbr1"
# Interface Naming Configuration
# Set to true for traditional names (eth0, eth1), false for modern names (enp6s18, enp6s19)
# Modern names are required for Rocky Linux 9 and newer distributions
proxmox_automatic_use_traditional_interface_names: false
proxmox_automatic_vmid: >-
  {{ proxmox_automatic_networks[0].vlanid | string ~
    '%03d' | format(proxmox_automatic_networks[0].ip.split('.')[-1] | int) }}
# Api Access
proxmox_automatic_api_user: svc_ansible_rw@pam
proxmox_automatic_api_password: "<filleme>"
# Kickstart Configuration
proxmox_automatic_timezone: "Europe/Berlin"
proxmox_automatic_ntp_servers:
  - "time.cloudflare.com"
proxmox_automatic_dns_servers:
  - "1.0.0.1"
  - "1.1.1.1"

# System Configuration
proxmox_automatic_keyboard_layout: "de"
proxmox_automatic_keyboard_variants: "de (nodeadkeys),us"
proxmox_automatic_language: "en_US.UTF-8"
proxmox_automatic_selinux_mode: "enforcing"  # enforcing, permissive, disabled
proxmox_automatic_firewall_enabled: true
proxmox_automatic_firewall_services:
  - "ssh"

# System Services Configuration
proxmox_automatic_enabled_services:
  - "sshd"
  - "rsyslog"
  - "chronyd"
  - "NetworkManager"
proxmox_automatic_disabled_services: []

# Boot and Installation Configuration
proxmox_automatic_dhcp_enabled: false  # true for DHCP, false for static IP

# Package Installation Configuration
proxmox_automatic_package_retries: 5
proxmox_automatic_package_timeout: 20
proxmox_automatic_install_languages: "en"
proxmox_automatic_minimal_environment: "@^minimal-environment"

# User Configuration - Hierarchical System
# Define users to be created during installation
proxmox_automatic_users: []

proxmox_automatic_url_baseos: ""
proxmox_automatic_url_mirrorlist: "http://mirrors.rockylinux.org/mirrorlist?arch=x86_64&repo=BaseOS-9"
proxmox_automatic_repos:
  - name: baseos
    mirrorlist: https://mirrors.rockylinux.org/mirrorlist?arch=x86_64&repo=BaseOS-9
  - name: appstream
    mirrorlist: https://mirrors.rockylinux.org/mirrorlist?arch=x86_64&repo=AppStream-9
  - name: extras
    mirrorlist: https://mirrors.rockylinux.org/mirrorlist?arch=x86_64&repo=extras-9
  - name: crb
    mirrorlist: https://mirrors.rockylinux.org/mirrorlist?arch=x86_64&repo=CRB-9
  - name: epel
    baseurl: https://download.fedoraproject.org/pub/epel/9/Everything/x86_64/

# Storage configuration
proxmox_automatic_storage_config_defaults:
  - name: virtio0
    size: "{{ proxmox_automatic_first_disk_size }}"
    disk: vda
    bootloader: true
    partitions:
      - name: efi
        mount: /boot/efi
        size: 1024
        fstype: efi
        primary: true
      - name: boot
        mount: /boot
        size: 1024
        fstype: ext4
        primary: true
      - name: pv.root
        size: 1024
        grow: true
        primary: true
        type: pv
    vg:
      - name: system
        lv:
          - name: root
            mount: /
            size: 1024
            grow: true
            fstype: xfs
          - name: log
            mount: /var/log
            size: 4096
            fstype: xfs
          - name: swap
            mount: swap
            size: 2048
            fstype: swap

proxmox_automatic_packages:
  - qemu-guest-agent
  - vim
  - htop
  - tmux
  - git
  - wget
  - curl
  - jq
  - bind-utils
  - net-tools
  - lsof
  - strace
  - tcpdump
  - nmap-ncat
  - telnet
  - nc
  - mtr
  - iperf3
  - bash-completion
  - python3
  - python3-pip
  - unzip
  - tar
  - gzip
  - bzip2
  - xz
  - lvm2
  - xfsprogs
  - e2fsprogs
  - cifs-utils
  - nfs-utils
  - rsync
  - policycoreutils
  - selinux-policy
